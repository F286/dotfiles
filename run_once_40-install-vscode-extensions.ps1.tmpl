{{ if eq .chezmoi.os "windows" -}}
$extensionsFile = "{{ .chezmoi.sourceDir }}\vscode_extensions.txt"
if (-not (Get-Command "code" -ErrorAction SilentlyContinue)) {
    Write-Host "VS Code 'code' command not found, skipping extension install"
    return
}
Get-Content $extensionsFile | ForEach-Object {
    $ext = $_.Trim()
    if ($ext) {
        Write-Host "Installing VS Code extension: $ext"
        code --install-extension $ext --force
    }
}
{{ end -}}
