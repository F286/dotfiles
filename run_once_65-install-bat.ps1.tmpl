{{ if eq .chezmoi.os "windows" -}}
if (Get-Command bat -ErrorAction SilentlyContinue) {
    exit 0
}

if (Get-Command winget -ErrorAction SilentlyContinue) {
    # Try winget first (exact ID). Falls through if installation fails.
    winget install --id sharkdp.bat -e
} elseif (Get-Command scoop -ErrorAction SilentlyContinue) {
    scoop install bat
} elseif (Get-Command choco -ErrorAction SilentlyContinue) {
    choco install bat -y
} else {
    Write-Output "No supported package manager found for bat installation."
}
{{ end -}}
