# --- Git paging through delta ---
[pager]
    diff = delta
    show = delta
    log  = delta

[interactive]
    diffFilter = delta --color-only

[core]
    pager = delta

# --- Diff behavior ---
[diff]
    colorMoved = default
    algorithm = histogram
    tool = vscode

[difftool]
    prompt = false

[difftool "vscode"]
    cmd = code --wait --diff $LOCAL $REMOTE
    trustExitCode = true

[difftool "nvimdiff"]
    cmd = nvim -f -d "$LOCAL" "$REMOTE"

[merge]
    conflictstyle = diff3
    tool = vscode

[mergetool]
    prompt = false

[mergetool "vscode"]
    cmd = code --wait --merge $LOCAL $REMOTE $BASE $MERGED
    trustExitCode = true

[mergetool "nvimdiff3"]
    cmd = nvim -f -d "$LOCAL" "$MERGED" "$REMOTE"
    trustExitCode = false

# --- Delta styling ---
[delta]
    # Be explicit for TUIs like LazyGit
    dark = true                                                   # better than 'light=false' under TUIs
    true-color = always                                             # safer than 'always' unless your whole stack is 24‑bit
    navigate = true                                               # n / N to jump
    hyperlinks = true
    side-by-side = false
    line-numbers = true

    # Make line numbers match Tokyo Night gutter color in Kitty (and avoid "dim")
    # Tokyo Night-ish gray: matches inactive_tab_foreground from kitty theme
    line-numbers-left-style = "#545c7e"
    line-numbers-right-style = "#545c7e"
    line-numbers-zero-style = "#545c7e"
    # Subtle color hint per change type
    line-numbers-plus-style = "#9ece6a dim"   # additions → Tokyo Night green, dimmed
    line-numbers-minus-style = "#f7768e dim"  # deletions → Tokyo Night red, dimmed
    # Subtle separator like VS Code/Tokyo Night
    line-numbers-left-format = "{nm:>4} "
    line-numbers-right-format = "{np:<4}"

    # Keep your tinted backgrounds, add better contrast for emphasis
    # Style strings are: <foreground> <background> <attributes...>
    # 'syntax' = syntax‑highlighted foreground; hex after that = background
    plus-style = "syntax #0d1a11"                                 # darker green bg for better readability
    plus-emph-style = "syntax #0f2115"                            # slightly lighter green for emphasis
    plus-non-emph-style = "syntax #0d1a11"

    minus-style = "syntax #2c1616"
    minus-emph-style = "syntax #5a2323"                           # slightly brighter bg for intra-line deletions
    minus-non-emph-style = "syntax #2c1616"

    # Theme that plays nicely with green/red tints; keep yours or try Monokai Extended
    syntax-theme = base16-256
    # syntax-theme = "Monokai Extended"                           # optional alternative with strong contrast

# Optional: enable a feature you already defined below
[delta]
    features = tokyonight

# Optional named feature you can toggle via: DELTA_FEATURES=+side-by-side git diff
[delta "side-by-side"]
    side-by-side = true
    line-numbers = true

# Tokyo Night-aligned delta styling
[delta "tokyonight"]
    # File headers
    file-style = "#c0caf5 bold"
    file-decoration-style = "#292e42 box"

    # Hunk headers
    hunk-header-style = file line-number syntax
    hunk-header-file-style = "#7aa2f7"
    hunk-header-line-number-style = "bold #7aa2f7"
    hunk-header-decoration-style = "#292e42 box ul"

    # Commit meta
    commit-style = "bold #c0caf5"
    commit-decoration-style = "#292e42 box"

    # Grep integration
    grep-file-style = "#7aa2f7"
    grep-line-number-style = "#545c7e"

    # Misc
    zero-style = syntax
    whitespace-error-style = "#db4b4b reverse"

[pager]    # keep these for safety even with core.pager
    diff = delta
    show = delta
    log = delta

[index]
    threads = 10

[pack]
    threads = 0

[gc]
    writeCommitGraph = true

[fetch]
    writeCommitGraph = true

[feature]
    manyFiles = true

[maintenance]
    strategy = incremental

