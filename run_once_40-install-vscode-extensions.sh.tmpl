{{ if ne .chezmoi.os "windows" -}}
#!/usr/bin/env bash
set -e
EXT_FILE="{{ .chezmoi.sourceDir }}/vscode_extensions.txt"
if ! command -v code >/dev/null 2>&1; then
    echo "VS Code 'code' command not found, skipping extension install"
    exit 0
fi
while IFS= read -r ext || [ -n "$ext" ]; do
    [ -z "$ext" ] && continue
    echo "Installing VS Code extension: $ext"
    code --install-extension "$ext" --force || true
done < "$EXT_FILE"
{{ end -}}
