{{ if ne .chezmoi.os "windows" -}}
#!/usr/bin/env bash
set -euo pipefail

if command -v lazygit >/dev/null 2>&1; then
  exit 0
fi

if command -v brew >/dev/null 2>&1; then
  brew install lazygit
elif command -v apt-get >/dev/null 2>&1; then
  sudo apt-get update -y
  sudo apt-get install -y lazygit
elif command -v dnf >/dev/null 2>&1; then
  # Fedora/RHEL/CentOS (uses COPR if needed)
  sudo dnf install -y lazygit || { sudo dnf copr enable -y atim/lazygit; sudo dnf install -y lazygit; }
elif command -v pacman >/dev/null 2>&1; then
  sudo pacman -Sy --noconfirm lazygit
elif command -v zypper >/dev/null 2>&1; then
  sudo zypper refresh
  sudo zypper install -y lazygit
else
  echo "No supported package manager found. Install lazygit manually."
  exit 1
fi
{{ end -}}
