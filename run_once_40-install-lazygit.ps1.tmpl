{{ if eq .chezmoi.os "windows" -}}
# Requires: PowerShell
# Installs lazygit via winget (or scoop fallback)
$have = Get-Command lazygit -ErrorAction SilentlyContinue
if ($have) { exit 0 }

if (Get-Command winget -ErrorAction SilentlyContinue) {
  winget install -e --id JesseDuffield.lazygit
}
elseif (Get-Command scoop -ErrorAction SilentlyContinue) {
  scoop bucket add extras | Out-Null
  scoop install lazygit
}
else {
  Write-Host "winget/scoop not found. Install lazygit manually."
  exit 1
}
{{ end -}}
